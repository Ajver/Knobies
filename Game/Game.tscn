[gd_scene load_steps=17 format=2]

[ext_resource path="res://Game/Game.gd" type="Script" id=1]
[ext_resource path="res://Game/Background/Background.tscn" type="PackedScene" id=2]
[ext_resource path="res://Game/UI/UI.gd" type="Script" id=3]
[ext_resource path="res://Fonts/Font_14.tres" type="DynamicFont" id=4]
[ext_resource path="res://Game/UI/buy_knob_btn_disabled.png" type="Texture" id=5]
[ext_resource path="res://Game/UI/buy_knob_btn_pressed.png" type="Texture" id=6]
[ext_resource path="res://Sounds/knob_buy.wav" type="AudioStream" id=7]
[ext_resource path="res://Sounds/knob_available.wav" type="AudioStream" id=8]
[ext_resource path="res://Game/Walls.gd" type="Script" id=9]
[ext_resource path="res://Knobs/KnobsManager.tscn" type="PackedScene" id=10]
[ext_resource path="res://Sounds/click.wav" type="AudioStream" id=11]
[ext_resource path="res://Game/ScreenHitAudio.gd" type="Script" id=12]
[ext_resource path="res://Game/GameSaver/GameSaver.tscn" type="PackedScene" id=13]

[sub_resource type="PhysicsMaterial" id=1]
friction = 0.5
bounce = 0.15

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 75, 195 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 220, 70 )

[node name="Game" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )

[node name="Background" parent="." instance=ExtResource( 2 )]
tween_duration = 0.8

[node name="UI" type="Node2D" parent="."]
z_index = 100
z_as_relative = false
script = ExtResource( 3 )

[node name="MarginContainer" type="MarginContainer" parent="UI"]
anchor_right = 1.0
margin_bottom = 20.0
rect_min_size = Vector2( 160, 0 )
custom_constants/margin_right = 10
custom_constants/margin_top = 10
custom_constants/margin_left = 10
custom_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="UI/MarginContainer"]
margin_left = 10.0
margin_top = 10.0
margin_right = 150.0
margin_bottom = 31.0

[node name="Score" type="Label" parent="UI/MarginContainer/VBoxContainer"]
margin_right = 140.0
margin_bottom = 17.0
custom_fonts/font = ExtResource( 4 )
text = "100"
uppercase = true

[node name="Control" type="Control" parent="UI/MarginContainer/VBoxContainer"]
margin_top = 21.0
margin_right = 140.0
margin_bottom = 21.0

[node name="BuyKnobBtn" type="TouchScreenButton" parent="UI/MarginContainer/VBoxContainer/Control"]
position = Vector2( 0, 0.463303 )
normal = ExtResource( 5 )
pressed = ExtResource( 6 )
passby_press = true

[node name="KnobPrice" type="Label" parent="UI/MarginContainer/VBoxContainer/Control/BuyKnobBtn"]
margin_left = 25.0
margin_right = 64.0
margin_bottom = 24.0
custom_fonts/font = ExtResource( 4 )
text = "100"
valign = 1

[node name="KnobBuyAudio" type="AudioStreamPlayer" parent="UI"]
stream = ExtResource( 7 )

[node name="KnobAvailableAudio" type="AudioStreamPlayer" parent="UI"]
stream = ExtResource( 8 )

[node name="World" type="Node2D" parent="."]

[node name="Walls" type="StaticBody2D" parent="World"]
editor/display_folded = true
visible = false
physics_material_override = SubResource( 1 )
script = ExtResource( 9 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Walls"]
position = Vector2( -70, 120 )
shape = SubResource( 2 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="World/Walls"]
position = Vector2( 230, 120 )
shape = SubResource( 2 )

[node name="CollisionShape2D3" type="CollisionShape2D" parent="World/Walls"]
position = Vector2( 80, -65 )
shape = SubResource( 3 )

[node name="CollisionShape2D4" type="CollisionShape2D" parent="World/Walls"]
position = Vector2( 85, 305 )
shape = SubResource( 3 )

[node name="KnobsManager" parent="World" instance=ExtResource( 10 )]
position = Vector2( 80, 50 )

[node name="ScreenHitAudio" type="AudioStreamPlayer" parent="World"]
stream = ExtResource( 11 )
volume_db = -10.651
script = ExtResource( 12 )

[node name="GameSaver" parent="." instance=ExtResource( 13 )]
[connection signal="knob_bought" from="UI" to="GameSaver" method="_on_Knob_bought"]
[connection signal="knob_bought" from="UI" to="World/KnobsManager" method="_on_Knob_bought"]
[connection signal="knob_bought" from="UI" to="Background" method="_on_Knob_bought"]
[connection signal="released" from="UI/MarginContainer/VBoxContainer/Control/BuyKnobBtn" to="UI" method="_on_BuyKnobBtn_released"]
